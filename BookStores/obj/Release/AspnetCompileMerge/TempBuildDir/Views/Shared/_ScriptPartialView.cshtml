<script>$.validate({});</script>
<script>
window.Bizweb||(window.Bizweb={}),Bizweb.mediaDomainName="http://bizweb.dktcdn.net/",Bizweb.each=function(a,b){for(var c=0;c<a.length;c++)b(a[c],c)},Bizweb.getClass=function(a){return Object.prototype.toString.call(a).slice(8,-1)},Bizweb.map=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c},Bizweb.arrayContains=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},Bizweb.distinct=function(a){for(var b=[],c=0;c<a.length;c++)Bizweb.arrayContains(b,a[c])||b.push(a[c]);return b},Bizweb.getUrlParameter=function(a){var b=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search);return b&&decodeURIComponent(b[1].replace(/\+/g," "))},Bizweb.uniq=function(a){for(var b=[],c=0;c<a.length;c++)Bizweb.arrayIncludes(b,a[c])||b.push(a[c]);return b},Bizweb.arrayIncludes=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},Bizweb.Product=function(){function a(a){if("undefined"!=typeof a)for(property in a)this[property]=a[property]}return a.prototype.optionNames=function(){return"Array"==Bizweb.getClass(this.options)?this.options:[]},a.prototype.optionValues=function(a){if("undefined"==typeof this.variants)return null;var b=Bizweb.map(this.variants,function(b){var c="option"+(a+1);return"undefined"==typeof b[c]?null:b[c]});return null==b[0]?null:Bizweb.distinct(b)},a.prototype.getVariant=function(a){var b=null;return a.length!=this.options.length?null:(Bizweb.each(this.variants,function(c){for(var d=!0,e=0;e<a.length;e++){var f="option"+(e+1);c[f]!=a[e]&&(d=!1)}if(d)return void(b=c)}),b)},a.prototype.getVariantById=function(a){for(var b=0;b<this.variants.length;b++){var c=this.variants[b];if(c.id==a)return c}return null},a.name="Product",a}(),Bizweb.money_format=" VND",Bizweb.formatMoney=function(a,b){function f(a,b,c,d){if("undefined"==typeof b&&(b=2),"undefined"==typeof c&&(c="."),"undefined"==typeof d&&(d=","),"undefined"==typeof a||null==a)return 0;a=a.toFixed(b);var e=a.split("."),f=e[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+c),g=e[1]?d+e[1]:"";return f+g}"string"==typeof a&&(a=a.replace(/\./g,""),a=a.replace(/\,/g,""));var c="",d=/\{\{\s*(\w+)\s*\}\}/,e=b||this.money_format;switch(e.match(d)[1]){case"amount":c=f(a,2);break;case"amount_no_decimals":c=f(a,0);break;case"amount_with_comma_separator":c=f(a,2,".",",");break;case"amount_no_decimals_with_comma_separator":c=f(a,0,".",",")}return e.replace(d,c)},Bizweb.OptionSelectors=function(){function a(a,b){return this.selectorDivClass="selector-wrapper",this.selectorClass="single-option-selector",this.variantIdFieldIdSuffix="-variant-id",this.variantIdField=null,this.selectors=[],this.domIdPrefix=a,this.product=new Bizweb.Product(b.product),"undefined"!=typeof b.onVariantSelected?this.onVariantSelected=b.onVariantSelected:this.onVariantSelected=function(){},this.replaceSelector(a),this.initDropdown(),!0}return a.prototype.replaceSelector=function(a){var b=document.getElementById(a),c=b.parentNode;Bizweb.each(this.buildSelectors(),function(a){c.insertBefore(a,b)}),b.style.display="none",this.variantIdField=b},a.prototype.buildSelectors=function(){for(var a=0;a<this.product.optionNames().length;a++){var b=new Bizweb.SingleOptionSelector(this,a,this.product.optionNames()[a],this.product.optionValues(a));b.element.disabled=!1,this.selectors.push(b)}var c=this.selectorDivClass,d=this.product.optionNames(),e=Bizweb.map(this.selectors,function(a){var b=document.createElement("div");if(b.setAttribute("class",c),d.length>1){var e=document.createElement("label");e.htmlFor=a.element.id,e.innerHTML=a.name,b.appendChild(e)}return b.appendChild(a.element),b});return e},a.prototype.initDropdown=function(){var a={initialLoad:!0},b=this.selectVariantFromDropdown(a);if(!b){var c=this;setTimeout(function(){c.selectVariantFromParams(a)||c.selectors[0].element.onchange(a)})}},a.prototype.selectVariantFromDropdown=function(a){var b=document.getElementById(this.domIdPrefix).querySelector("[selected]");return!!b&&this.selectVariant(b.value,a)},a.prototype.selectVariantFromParams=function(a){var b=Bizweb.getUrlParameter("variantid");return null==b&&(b=Bizweb.getUrlParameter("variantId")),this.selectVariant(b,a)},a.prototype.selectVariant=function(a,b){var c=this.product.getVariantById(a);if(null==c)return!1;for(var d=0;d<this.selectors.length;d++){var e=this.selectors[d].element,f=e.getAttribute("data-option"),g=c[f];null!=g&&this.optionExistInSelect(e,g)&&(e.value=g)}return"undefined"!=typeof jQuery?jQuery(this.selectors[0].element).trigger("change",b):this.selectors[0].element.onchange(b),!0},a.prototype.optionExistInSelect=function(a,b){for(var c=0;c<a.options.length;c++)if(a.options[c].value==b)return!0},a.prototype.updateSelectors=function(a,b){var c=this.selectedValues(),d=this.product.getVariant(c);d?(this.variantIdField.disabled=!1,this.variantIdField.value=d.id):this.variantIdField.disabled=!0,this.onVariantSelected(d,this,b),null!=this.historyState&&this.historyState.onVariantChange(d,this,b)},a.prototype.selectedValues=function(){for(var a=[],b=0;b<this.selectors.length;b++){var c=this.selectors[b].element.value;a.push(c)}return a},a.name="OptionSelectors",a}(),Bizweb.SingleOptionSelector=function(a,b,c,d){this.multiSelector=a,this.values=d,this.index=b,this.name=c,this.element=document.createElement("select");for(var e=0;e<d.length;e++){var f=document.createElement("option");f.value=d[e],f.innerHTML=d[e],this.element.appendChild(f)}return this.element.setAttribute("class",this.multiSelector.selectorClass),this.element.setAttribute("data-option","option"+(b+1)),this.element.id=a.domIdPrefix+"-option-"+b,this.element.onchange=function(c,d){d=d||{},a.updateSelectors(b,d)},!0},Bizweb.Image={preload:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];this.loadImage(this.getSizedImageUrl(d,b))}},loadImage:function(a){(new Image).src=a},switchImage:function(a,b,c){if(a&&b){var d=this.imageSize(b.src),e=this.getSizedImageUrl(a.src,d);c?c(e,a,b):b.src=e}},imageSize:function(a){var b=a.match(/thumb\/(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\//);return null!=b?b[1]:null},getSizedImageUrl:function(a,b){if(null==b)return a;if("master"==b)return this.removeProtocol(a);var c=a.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!=c){var d=Bizweb.mediaDomainName+"thumb/"+b+"/";return this.removeProtocol(a).replace(Bizweb.mediaDomainName,d).split("?")[0]}return null},removeProtocol:function(a){return a.replace(/http(s)?:/,"")}};
$(document).on('click', '.add_to_cart_detail', function(e) {
e.preventDefault();
$('#quickview').modal('hide');
var $this = $(this);
var form = $this.parents('form');
$.ajax({
type: 'POST',
	url: '/cart/add.js',
		async: false,
			data: form.serialize(),
				dataType: 'json',
					error: addToCartFail,
						beforeSend: function() {
						},
							success: addToCartSuccess,
								cache: false
});
});
var GLOBAL = {
	common : {
		init: function(){
			$('.add_to_cart').bind( 'click', addToCart );
		}
	},
	templateIndex : {
		init: function(){
		}
	},
	templateProduct : {
		init: function(){
		}
	},
	templateCart : {
		init: function(){
		}
	}
};
var UTIL = {
	fire : function(func,funcname, args){
		var namespace = GLOBAL;
		funcname = (funcname === undefined) ? 'init' : funcname;
		if (func !== '' && namespace[func] && typeof namespace[func][funcname] == 'function'){
			namespace[func][funcname](args);
		}
	},
	loadEvents : function(){
		var bodyId = document.body.id;
		UTIL.fire('common');
		$.each(document.body.className.split(/\s+/),function(i,classnm){
			UTIL.fire(classnm);
			UTIL.fire(classnm,bodyId);
		});
	}
};
									$(document).ready(UTIL.loadEvents);
		Number.prototype.formatMoney = function(c, d, t){
			var n = this,
				c = isNaN(c = Math.abs(c)) ? 2 : c,
				d = d == undefined ? "." : d,
				t = t == undefined ? "." : t,
				s = n < 0 ? "-" : "",
				i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + "",
				j = (j = i.length) > 3 ? j % 3 : 0;
			return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
		};
		function addToCart(e){
			if (typeof e !== 'undefined') e.preventDefault();
			var $this = $(this);
			var form = $this.parents('form');
			$.ajax({
				type: 'POST',
				url: '/cart/add.js',
				async: false,
				data: form.serialize(),
				dataType: 'json',
				error: addToCartFail,
				beforeSend: function() {
				},
				success: addToCartSuccess,
				cache: false
			});
		};
		function addToCartSuccess (jqXHR, textStatus, errorThrown){
			$.ajax({
				type: 'GET',
				url: '/cart.js',
				async: false,
				cache: false,
				dataType: 'json',
				success: function (cart){
					awe_hidePopup('.loading');
					Bizweb.updateCartFromForm(cart, '.top-cart-content .mini-products-list');
					Bizweb.updateCartPopupForm(cart, '#cart-sidebars .cart_body');
					Bizweb.updateCartPageForm(cart, '.cart_desktop_page .page_cart');
				}
			});
			var url_product = jqXHR['url'];
			var class_id = jqXHR['product_id'];
			var name = jqXHR['name'];
			var textDisplay = ('<i style="margin-right:5px; color:red; font-size:13px;" class="fa fa-check" aria-hidden="true"></i>Sản phẩm vừa thêm vào giỏ hàng');
			var id = jqXHR['variant_id'];
			if( jqXHR['image'] != null){
				var src = Bizweb.resizeImage(jqXHR['image'], 'medium');
			}else{
				var src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
			}
			var va_title = jqXHR['variant_title'];
			if (va_title == 'Default Title') {
				va_title = "";
			}else {
				va_title = jqXHR['variant_title'];
			}
			var dataList = $(".item-name a").map(function() {
				var plus = $(this).text();
				return plus;
			}).get();
			var nameid = dataList,
				found = $.inArray(name, nameid);
			var textfind = found;
			$(".cart_sidebar").addClass('active');
			$(".backdrop__body-backdrop___1rvky").addClass('active');
			$('.cart-footer').show();
			$('.cart_sidebar .cart_btn-close').click(function() {
				$(".cart_sidebar").removeClass('active');
				$(".backdrop__body-backdrop___1rvky").removeClass('active');
			});
			$('.backdrop__body-backdrop___1rvky').click(function() {
				$(".cart_sidebar").removeClass('active');
				$(".backdrop__body-backdrop___1rvky").removeClass('active');
			});
		};
		function addToCartFail(jqXHR, textStatus, errorThrown){
			var response = $.parseJSON(jqXHR.responseText);
			var $info = '<div class="error">'+ response.description +'</div>';
		};
		$(document).on('click', ".remove-item-cart", function () {
			var variantId = $(this).attr('data-id');
			removeItemCart(variantId);
		});
		$(document).on('click', ".items-count", function () {
			$(this).parent().children('.items-count').prop('disabled', true);
			var thisBtn = $(this);
			var variantId = $(this).parent().find('.variantID').val();
			var qty =  $(this).parent().children('.number-sidebar').val();
			updateQuantity(qty, variantId);
		});
		$(document).on('change', ".number-sidebar", function () {
			var variantId = $(this).parent().children('.variantID').val();
			var qty =  $(this).val();
			updateQuantity(qty, variantId);
		});
		function updateQuantity (qty, variantId){
			var variantIdUpdate = variantId;
			$.ajax({
				type: "POST",
				url: "/cart/change.js",
				data: {"quantity": qty, "variantId": variantId},
				dataType: "json",
				success: function (cart, variantId) {
					Bizweb.onCartUpdateClick(cart, variantIdUpdate);
				},
				error: function (qty, variantId) {
					Bizweb.onError(qty, variantId)
				}
			})
		};
		function removeItemCart (variantId){
			var variantIdRemove = variantId;
			$.ajax({
				type: "POST",
				url: "/cart/change.js",
				data: {"quantity": 0, "variantId": variantId},
				dataType: "json",
				success: function (cart, variantId) {
					Bizweb.onCartRemoveClick(cart, variantIdRemove);
					$('.productid-'+variantIdRemove).remove();
					if($('.tbody-popup>div').length == '0' ){
						$('#popup-cart').modal('hide');
					}
					if($('.list-item-cart>li').length == '0' ){
						$('.mini-products-list').html('<div class="no-item"><span class="empty-icon"><i class="ico ico-cart"></i></span><p>Không có sản phẩm nào trong giỏ hàng.</p></div>');
					}
					if($('.cart_page_mobile>div').length == '0' ){
						$('.cart_page_mobile').remove();
						$('.header-cart-price').remove();
						$('.header-cart').remove();
						jQuery('<div class="cart-empty">'
							   + '<span class="empty-icon"><i class="ico ico-cart"></i></span>'
							   + '<div class="btn-cart-empty">'
							   + '<a class="btn btn-default" href="/" title="Tiếp tục mua sắm">Tiếp tục mua sắm</a>'
							   + '</div>'
							   + '</div>').appendTo('.header-cart-content');
					}
					if($('.cart-tbody>div').length == '0' ){
						$('.bg-cart-page').remove();
						$('.bg-cart-page-mobile').remove();
						jQuery('<div class="bg-cart-page" style="min-height: auto"><p>Không có sản phẩm nào trong giỏ hàng. Quay lại <a href="index.html">cửa hàng</a> để tiếp tục mua sắm.</p></div>').appendTo('.cart');
					}
					if($('.cart-tbody>div').length == '0' ){
						$('.bg-cart-page').remove();
						$('.bg-cart-page-mobile').remove();
						$('.cart_des_page').remove();
						jQuery('<div class="cart-empty">'
							   + '<span class="empty-icon"><i class="ico ico-cart"></i></span>'
							   + '<div class="btn-cart-empty">'
							   + '<a class="btn btn-default" href="/" title="Tiếp tục mua hàng">Tiếp tục mua hàng</a>'
							   + '</div>'
							   + '</div>').appendTo('.cart_desktop_page');
					}
					if($('.cart_body>div').length == '0' ){
						$('.cart-footer').hide();
						jQuery('<div class="cart-empty">'
							   + '<span class="empty-icon"><i class="ico ico-cart"></i></span>'
							   + '<div class="btn-cart-empty">'
							   + '<a class="btn btn-default" href="/" title="Tiếp tục mua sắm">Tiếp tục mua sắm</a>'
							   + '</div>'
							   + '</div>').appendTo('.cart_body');
					}else{
						$('.cart-footer').show();
					}
				},
				error: function (variantId, r) {
					Bizweb.onError(variantId, r)
				}
			})
		};
		Bizweb.updateCartFromForm = function(cart, cart_summary_id, cart_count_id) {
			if ((typeof cart_summary_id) === 'string') {
				var cart_summary = jQuery(cart_summary_id);
				if (cart_summary.length) {
					cart_summary.empty();
					jQuery.each(cart, function(key, value) {
						if (key === 'items') {
							var table = jQuery(cart_summary_id);
							if (value.length) {
								jQuery('<ul class="list-item-cart"></ul>').appendTo(table);
								jQuery.each(value, function(i, item) {
									var src = Bizweb.resizeImage(item.image, 'medium');
									if(src == null){
										src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
									}
									var buttonQty = "";
									if(item.quantity == '1'){
										buttonQty = 'disabled';
									}else{
										buttonQty = '';
									}
									jQuery('<li class="item productid-' + item.variant_id +'"><a class="product-image" href="' + item.url + '" title="' + item.name + '">'
										   + '<img alt="'+  item.name  + '" src="' + src +  '"width="'+ '80' +'"\></a>'
										   + '<div class="detail-item"><div class="product-details"> <a href="javascript:;" data-id="'+ item.variant_id +'" title="Xóa" class="remove-item-cart">×</a>'
										   + '<p class="product-name"> <a href="' + item.url + '" title="' + item.name + '">' + item.name + '</a></p></div>'
										   + '<div class="product-details-bottom"><span class="price pricechange">' + Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span>'
																																		 + '<div class="quantity-select"><input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'"><button onClick="var result = document.getElementById(\'qty'+ item.variant_id +'\'); var qty'+ item.variant_id +' = result.value; if( !isNaN( qty'+ item.variant_id +' ) &amp;&amp; qty'+ item.variant_id +' &gt; 1 ) result.value--;return false;" class="reduced items-count btn-minus" ' + buttonQty + ' type="button">–</button><input type="text" disabled maxlength="3" min="1" onchange="if(this.value == 0)this.value=1;" class="input-text number-sidebar qty'+ item.variant_id +'" id="qty'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'"><button onClick="var result = document.getElementById(\'qty'+ item.variant_id +'\'); var qty'+ item.variant_id +' = result.value; if( !isNaN( qty'+ item.variant_id +' )) result.value++;return false;" class="increase items-count btn-plus" type="button">+</button></div></div></li>').appendTo(table.children('.list-item-cart'));
										   });
									jQuery('<div><div class="top-subtotal">Tổng cộng: <span class="price">' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span></div></div>').appendTo(table);
																																 jQuery('<div><div class="actions clearfix"><a href="/checkout" class="btn btn-gray btn-checkout" title="Thanh toán"><span>Thanh toán</span></a><a href="/cart" class="view-cart btn btn-white margin-left-5" title="Giỏ hàng"><span>Giỏ hàng</span></a></div></div>').appendTo(table);
										   }
										   else {
										   jQuery('<div class="no-item"><span class="empty-icon"><i class="ico ico-cart"></i></span><p>Không có sản phẩm nào trong giỏ hàng.</p></div>').appendTo(table);
								}
											}
											});
							}
						}
						updateCartDesc(cart);
						var numInput = document.querySelector('#cart-sidebar input.input-text');
						if (numInput != null){
							numInput.addEventListener('input', function(){
								var num = this.value.match(/^\d+$/);
								if (num == 0) {
									this.value = 1;
								}
								if (num === null) {
									this.value = "";
								}
							}, false)
						}
					};
								Bizweb.updateCartPageForm = function(cart, cart_summary_id, cart_count_id) {
						if ((typeof cart_summary_id) === 'string') {
							var cart_summary = jQuery(cart_summary_id);
							if (cart_summary.length) {
								cart_summary.empty();
								jQuery.each(cart, function(key, value) {
									if (key === 'items') {
										var table = jQuery(cart_summary_id);
										if (value.length) {
											var pageCart = '<div class="cart page_cart cart_des_page hidden-xs-down row">'
											+ '<div class="col-lg-12 cart-col-1">'
											+ '<div class="cart-tbody">'
											+ '</div>'
											+ '</div>'
											+ '</div>';
											var pageCartCheckout = '<div class="col-lg-12 cart-col-2 cart-collaterals cart_submit">'
											+ '<div id="right-affix">'
											+ '<div class="row">'
											+ '<div class="col-lg-6"><a class="btn-proceed-checkout btn-checkouts" title="Tiếp tục mua hàng" href="collections/all">Tiếp tục mua hàng</a></div>'
											+ '<div class="col-lg-6">'
											+ '<div class="each-row">'
											+ '<div class="box-style fee">'
											+ '<p class="list-info-price">'
											+ '<span>Tạm tính: </span>'
											+ '<strong class="totals_price price _text-right text_color_right1">65756756756</strong></p></div>'
											+ '<div class="box-style fee d-none">'
											+ '<p class="list-info-price">'
											+ '<span>Giảm giá: </span>'
											+ '<strong class="discounted price _text-right text_color_right1" id="price_sale" data-price="0"></strong></p></div>'
											+ '<div class="box-style fee">'
											+ '<div class="total2 clearfix">'
											+ '<span class="text-label">Thành tiền: </span>'
											+ '<div class="amount">'
											+ '<p><strong class="totals_price">' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '</strong></p>'
																									  + '</div></div></div>'
																									  + '<button class="button btn btn-large btn-block btn-danger btn-checkout evo-button" title="Thanh toán ngay" type="button" onclick="window.location.href=\'/checkout\'">Thanh toán ngay</button>'
																									  + '</div></div></div></div></div>';
																									  jQuery(pageCart).appendTo(table);
											jQuery.each(value, function(i, item) {
												var buttonQty = "";
												var cbrand = "";
												if(item.quantity == '1'){
													buttonQty = 'disabled';
												}else{
													buttonQty = '';
												}
												if(item.vendor == null){
													cbrand = 'Đang cập nhật';
												}else if(item.vendor == ''){
													cbrand = 'Đang cập nhật';
												}else{
													cbrand = item.vendor;
												}
												var link_img1 = Bizweb.resizeImage(item.image, 'medium');
												if(link_img1=="null" || link_img1 =='' || link_img1 ==null){
													link_img1 = '~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif';
												}
												if(item.price == 0){
													var price = "Tặng kèm";
													var hidden = "hidden";
												}else{
													var hidden = "";
													var price = Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫");
																				   }
																				   var item_price = item.price * item.quantity;
																				   var pageCartItem = '<div class="row shopping-cart-item productid-' + item.variant_id +'">'
																				   + '<div class="col-lg-3 img-thumnail-custom">'
																				   + '<p class="image">'
																				   + '<a href="' + item.url + '" title="' + item.name + '" target="_blank">'
																				   + '<img class="img-responsive" src="' + link_img1 +  '" alt="' + item.name + '" />'
																				   + '</a>'
																				   + '</p>'
																				   + '</div>'
																				   + '<div class="col-right col-lg-9">'
																				   + '<div class="box-info-product">'
																				   + '<p class="name">'
																				   + '<a href="' + item.url + '" title="' + item.name + '" target="_blank">' + item.name + '</a>'
																				   + '</p>'
																				   + '<p class="c-brands">Thương hiệu: '+ cbrand + '</p>'
																				   + '<p class="seller-by d-none">' + item.variant_title + '</p>'
																				   + '<p class="action">'
																				   + '<a href="javascript:;" class="btn btn-link btn-item-delete remove-item-cart" data-id="'+ item.variant_id +'" title="Xóa">Xóa</a>'
																				   + '</p>'
																				   + '</div>'
																				   + '<div class="box-price">'
																				   + '<p class="price pricechange">' + price + '</p>'
																				   + '</div>'
																				   + '<div class="quantity-block">'
																				   + '<div class="bootstrap-touchspin">'
																				   + '<div class="input-group-btn">'
																				   + '<input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'">'
																				   + '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' )) result.value++;return false;" class="increase_pop items-count btn-plus btn btn-default bootstrap-touchspin-up" type="button">+</button>'
																				   + '<input type="text" onchange="if(this.value == 0)this.value=1;" maxlength="12" min="1" disabled class="form-control quantity-r2 quantity js-quantity-product input-text number-sidebar input_pop input_pop qtyItem'+ item.variant_id +'" id="qtyItem'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'">'
																				   + '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' ) &amp;&amp; qtyItem'+ item.variant_id +' &gt; 1 ) result.value--;return false;" ' + buttonQty + ' class="reduced_pop items-count btn-minus btn btn-default bootstrap-touchspin-down" type="button">–</button>'
																				   + '</div>'
																				   + '</div>'
																				   + '</div>'
																				   + '</div>'
																				   + '</div>';
																				   jQuery(pageCartItem).appendTo(table.find('.cart-tbody'));
													if(item.variant_title == 'Default Title'){
														$('.seller-by').hide();
													}
												});
												jQuery(pageCartCheckout).appendTo(table.children('.cart'));
											}else {
														jQuery('<p class="hidden-xs-down">Không có sản phẩm nào trong giỏ hàng. Quay lại <a href="/" style="color:;">cửa hàng</a> để tiếp tục mua sắm.</p>').appendTo(table);
														jQuery('.cart_desktop_page').css('min-height', 'auto');
										}
									}
								});
							}
						}
						updateCartDesc(cart);
						jQuery('#wait').hide();
					};
					Bizweb.updateCartPopupForm = function(cart, cart_summary_id, cart_count_id) {
						if ((typeof cart_summary_id) === 'string') {
							var cart_summary = jQuery(cart_summary_id);
							if (cart_summary.length) {
								cart_summary.empty();
								jQuery.each(cart, function(key, value) {
									if (key === 'items') {
										var table = jQuery(cart_summary_id);
										if (value.length) {
											jQuery.each(value, function(i, item) {
												var src = Bizweb.resizeImage(item.image, 'medium');
												if(src == null){
													src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
												}
												var buttonQty = "";
												if(item.quantity == '1'){
													buttonQty = 'disabled';
												}else{
													buttonQty = '';
												}
												var pageCartItem ='<div class="clearfix cart_product productid-' + item.variant_id +'">'
												+ '<a class="cart_image" href="' + item.url + '" title="' + item.name + '">'
												+ '<img src="' + src +  '" alt="' + item.name + '" >'
												+ '</a>'
												+ '<div class="cart_info">'
												+ '<div class="cart_name">'
												+ '<a href="' + item.url + '" title="' + item.name + '">' + item.name + '</a>'
												+ '</div>'
												+ '<div class="row-cart-left">'
												+ '<div class="cart_item_name">'
												+ '<label class="cart_size variant-title-popup d-none">' + item.variant_title + '</label>'
												+ '<div>'
												+ '<label class="cart_quantity">Số lượng</label>'
												+ '<div class="cart_select">'
												+ '<div class="input-group-btn">'
												+ '<input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'">'
												+ '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' ) &amp;&amp; qtyItem'+ item.variant_id +' &gt; 1 ) result.value--;return false;" ' + buttonQty + ' class="reduced items-count btn-minus btn btn-default" type="button">–</button>'
												+ '<input type="text" maxlength="3" min="0" class="input-text number-sidebar qtyItem'+ item.variant_id +'" id="qtyItem'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'">'
												+ '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' )) result.value++;return false;" class="increase items-count btn-plus btn btn-default" type="button">+</button></div>'
												+ '</div>'
												+ '</div>'
												+ '</div>'
												+ '<div class="text-right cart_prices">'
												+ '<div class="cart__price">'
												+ '<span class="cart__sale-price">' + Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span>'
																										 + '</div>'
																										 + '<a class="cart__btn-remove remove-item-cart" href="javascript:void(0)" data-id="'+ item.variant_id +'" title="Bỏ sản phẩm">Bỏ sản phẩm</a>'
																										 + '</div>'
																										 + '</div>'
																										 + '</div>'
																										 + '</div>';
																										 jQuery(pageCartItem).prependTo(table);
												if(item.variant_title == 'Default Title'){
													$('.variant-title-popup').hide();
												}
												$('.link_product').text();
											});
										}
									}
								});
							}
						}
						jQuery('.total-price').html(Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫"));
																	   updateCartDesc(cart);
													};
													Bizweb.updateCartPageFormMobile = function(cart, cart_summary_id, cart_count_id) {
							if ((typeof cart_summary_id) === 'string') {
								var cart_summary = jQuery(cart_summary_id);
								if (cart_summary.length) {
									cart_summary.empty();
									jQuery.each(cart, function(key, value) {
										if (key === 'items') {
											var table = jQuery(cart_summary_id);
											if (value.length) {
												jQuery('<div class="cart_page_mobile content-product-list"></div>').appendTo(table);
												jQuery.each(value, function(i, item) {
													if( item.image != null){
														var src = Bizweb.resizeImage(item.image, 'small');
													}else{
														var src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
													}
													jQuery('<div class="item-product item productid-' + item.variant_id +' "><div class="item-product-cart-mobile margin-right-10"><a class="product-images1" href="' + item.url + '"  title="' + item.name + '"><img src="' + src +  '" alt="' + item.name + '"></a></div>'
														   + '<div class="title-product-cart-mobile"><h3><a href="' + item.url + '" title="' + item.name + '">' + item.name + '</a></h3><p>Giá: <span class="pricechange">' + Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span></p></div>'
								   + '<div class="select-item-qty-mobile"><div class="txt_center">'
								   + '<input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'"><button onClick="var result = document.getElementById(\'qtyMobile'+ item.variant_id +'\'); var qtyMobile'+ item.variant_id +' = result.value; if( !isNaN( qtyMobile'+ item.variant_id +' ) &amp;&amp; qtyMobile'+ item.variant_id +' &gt; 1 ) result.value--;return false;" class="reduced items-count btn-minus" type="button">–</button><input type="text" maxlength="12" min="0" class="input-text number-sidebar qtyMobile'+ item.variant_id +'" id="qtyMobile'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'"><button onClick="var result = document.getElementById(\'qtyMobile'+ item.variant_id +'\'); var qtyMobile'+ item.variant_id +' = result.value; if( !isNaN( qtyMobile'+ item.variant_id +' )) result.value++;return false;" class="increase items-count btn-plus" type="button">+</button></div>'
								   + '<a class="button remove-item remove-item-cart" href="javascript:;" data-id="'+ item.variant_id +'" title="Xóa">Xoá</a></div>').appendTo(table.children('.content-product-list'));
														   });
													jQuery('<div class="header-cart-price" style=""><div class="title-cart clearfix"><h3 class="text-xs-left">Tổng tiền</h3><a class="text-xs-right totals_price_mobile" title="' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '">' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '</a></div>'
							   + '<div class="checkout"><button class="btn-proceed-checkout-mobile" title="Thanh toán ngay" type="button" onclick="window.location.href=\'/checkout\'">'
							   + '<span>Thanh toán ngay</span></button></div>'
							   + '<button class="btn btn-proceed-continues-mobile" title="Tiếp tục mua hàng" type="button" onclick="window.location.href=\'/collections/all\'">Tiếp tục mua hàng</button>'
							   +'</div>').appendTo(table);
														   }
														   }
														   });
												}
															}
															updateCartDesc(cart);
											};
											function updateCartDesc(data){
												var $cartPrice = Bizweb.formatMoney(data.total_price, "{{amount_no_decimals_with_comma_separator}}₫"),
																					$cartMobile = $('#header .cart-mobile .quantity-product'),
													$cartDesktop = $('.count_item_pr'),
													$cartDesktopList = $('.cart-counter-list'),
													$cartPopup = $('.cart-popup-count');
												switch(data.item_count){
													case 0:
														$cartMobile.text('0');
														$cartDesktop.text('0');
														$cartDesktopList.text('0');
														$cartPopup.text('0');
														$cartDesktop.removeClass('hascart');
														break;
													case 1:
														$cartMobile.text('1');
														$cartDesktop.text('1');
														$cartDesktopList.text('1');
														$cartPopup.text('1');
														$cartDesktop.addClass('hascart');
														break;
													default:
														$cartMobile.text(data.item_count);
														$cartDesktop.text(data.item_count);
														$cartDesktopList.text(data.item_count);
														$cartPopup.text(data.item_count);
														$cartDesktop.addClass('hascart');
														break;
												}
												$('.top-cart-content .top-subtotal .price, aside.sidebar .block-cart .subtotal .price, .popup-total .total-price').html($cartPrice);
												$('.popup-total .total-price, .cart__totle .total-price').html($cartPrice);
												$('.cart-collaterals .totals_price').html($cartPrice);
												$('.header-cart-price .totals_price_mobile').html($cartPrice);
												$('.cartCount, .cart-products-count').html(data.item_count);
											};
											Bizweb.onCartUpdate = function(cart) {
												Bizweb.updateCartFromForm(cart, '.mini-products-list');
												Bizweb.updateCartPopupForm(cart, '#cart-sidebars .cart_body');

											};
											Bizweb.onCartUpdateClick = function(cart, variantId) {
												jQuery.each(cart, function(key, value) {
													if (key === 'items') {
														jQuery.each(value, function(i, item) {
															if(item.variant_id == variantId){
																$('.productid-'+variantId).find('.pricechange').html(Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫"));
																																		$('.productid-'+variantId).find('.cart-price span.price').html(Bizweb.formatMoney(item.price * item.quantity, "{{amount_no_decimals_with_comma_separator}}₫"));
														$('.productid-'+variantId).find('.items-count').prop("disabled", false);
														$('.productid-'+variantId +' .number-sidebar').val(item.quantity);
																													 if(item.quantity == '1'){
																	$('.productid-'+variantId).find('.items-count.btn-minus').prop("disabled", true);
																}
															}
														});
													}
												});
												updateCartDesc(cart);
											};
											Bizweb.onCartRemoveClick = function(cart, variantId) {
												jQuery.each(cart, function(key, value) {
													if (key === 'items') {
														jQuery.each(value, function(i, item) {
															if(item.variant_id == variantId){
																$('.productid-'+variantId).remove();
															}
														});
													}
												});
												updateCartDesc(cart);
											};
											$(window).ready(function(){
												$.ajax({
													type: 'GET',
													url: '/cart.js',
													async: false,
													cache: false,
													dataType: 'json',
													success: function (cart){
														Bizweb.updateCartFromForm(cart, '.mini-products-list');
														Bizweb.updateCartPopupForm(cart, '#cart-sidebars .cart_body');

													}
												});
											});
</script>
<script>
    var Bizweb = Bizweb || {};
    Bizweb.store = 'petshopvt.mysapo.net';
    Bizweb.id = 147060;
    Bizweb.theme = { "id": 880570, "name": "Evo Wood", "role": "main" };
    Bizweb.template = 'product';
    if (!Bizweb.fbEventId) Bizweb.fbEventId = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
        return v.toString(16);
    });
</script>
<script>
    (function () {
        function asyncLoad() {
            var urls = ["//productreviews.sapoapps.vn/assets/js/productreviews.min.js?store=petshopvt.mysapo.net", "~/Style/forms.sapoapps.vn/libs/js/surveyform.min6cbd.js?store=petshopvt.mysapo.net", "~/Style/promotionpopup.sapoapps.vn/genscript/script6cbd.js?store=petshopvt.mysapo.net", "~/Style/google-shopping.sapoapps.vn/conversion-tracker/global-tag/18496cbd.js?store=petshopvt.mysapo.net", "~/Style/google-shopping.sapoapps.vn/conversion-tracker/event-tag/18496cbd.js?store=petshopvt.mysapo.net", "~/Style/static.zotabox.com/6/5/65ff127d363f6362a64ec5d3e5f488d8/widgets6cbd.js?store=petshopvt.mysapo.net", "https://google-shopping-v2.sapoapps.vn/api/conversion-tracker/global-tag/326?store=petshopvt.mysapo.net", "https://google-shopping-v2.sapoapps.vn/api/conversion-tracker/event-tag/326?store=petshopvt.mysapo.net", "https://google-shopping-v2.sapoapps.vn/api/conversion-tracker/event-tag-conversion/326?store=petshopvt.mysapo.net"];
            for (var i = 0; i < urls.length; i++) {
                var s = document.createElement('script');
                s.type = 'text/javascript';
                s.async = true;
                s.src = urls[i];
                var x = document.getElementsByTagName('script')[0];
                x.parentNode.insertBefore(s, x);
            }
        };
        window.attachEvent ? window.attachEvent('onload', asyncLoad) : window.addEventListener('load', asyncLoad, false);
    })();
</script>


<script>
    window.BizwebAnalytics = window.BizwebAnalytics || {};
    window.BizwebAnalytics.meta = window.BizwebAnalytics.meta || {};
    window.BizwebAnalytics.meta.currency = 'VND';
    window.BizwebAnalytics.tracking_url = 's.html';

    var meta = {};

    meta.product = {
        "id": 31456835, "vendor": "", "name": "NỆM MÈO SAO KNBB-MS",
        "type": "", "price": 950000
    };


    for (var attr in meta) {
        window.BizwebAnalytics.meta[attr] = meta[attr];
    }
</script>
<script src="dist/js/stats.minb066.js?v=8177d93"></script>




<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-208097236-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-208097236-1');
</script>
<script>

    window.enabled_enhanced_ecommerce = true;

</script>
<script>

    try {

        gtag('event', 'view_item', {
            event_category: 'engagement',
            event_label: "NỆM MÈO SAO KNBB-MS",
            items: [
                {
                    id: 31456835,
                    name: "NỆM MÈO SAO KNBB-MS",
                    brand: null,
                    category: null,
                    variant: "XANH LÁ80 / S (70*110cm)",
                    price: '950000'
                }
            ]
        });

    } catch (e) { console.error('UA script error', e); }


</script>
<script>
    var eventsListenerScript = document.createElement('script');
    eventsListenerScript.async = true;

    eventsListenerScript.src = "dist/js/store_events_listener.min983a.js?v=8ee4227";

    document.getElementsByTagName('head')[0].appendChild(eventsListenerScript);
</script>
<script src="~/Style/bizweb.dktcdn.net/100/147/060/themes/880570/assets/jqueryb828.js?1687579687145" type="text/javascript"></script>
<script>
    $(document).ready(function ($) {
        awe_lazyloadImage();
    });
    function awe_lazyloadImage() {
        var ll = new LazyLoad({
            elements_selector: ".lazy",
            load_delay: 10,
            threshold: 0
        });
    } window.awe_lazyloadImage = awe_lazyloadImage;
</script>
<script>

	var variantsize = false;
	var alias = "nemmeosao-knbbms";
	var getLimit = 10;
	var productOptionsSize = 1;
	var selectCallback = function(variant, selector){
		if (variant){
var form = jQuery('#' + selector.domIdPrefix).closest('form');
for(var i=0,length=variant.options.length; i<length; i++){
	var radioButton = form.find('.swatch[data-option-index="' + i + '"] :radio[value="' + variant.options[i] +'"]');
	if (radioButton.size()){
		radioButton.get(0).checked = true;
	}
};
		};
		var addToCart = jQuery('.form-product .btn-cart'),
form = jQuery('.form-product .form-groups'),
btnNow = jQuery('.form-product .btn-buy-now'),
productPrice = jQuery('.details-pro .special-price .product-price'),
qty = jQuery('.inventory_quantity .a-stock'),
comparePrice = jQuery('.details-pro .old-price .product-price-old'),
comparePriceText = jQuery('.details-pro .old-price'),
savePrice = jQuery('.details-pro .save-price .product-price-save'),
savePriceText = jQuery('.details-pro .save-price'),
qtyBtn = jQuery('.form-product .form-groups .custom-btn-number'),
BtnSold = jQuery('.form-product .form-groups .btn-mua'),
product_sku = jQuery('.details-product .sku-product .variant-sku');
		if (variant && variant.sku != "" && variant.sku != null){
product_sku.html("SKU: <strong>" + variant.sku + "</strong>");
		} else {
product_sku.html('SKU: <strong>(Đang cập nhật...)</strong>');
		};
		if (variant && variant.available) {
if(variant.inventory_management == "bizweb"){
	if (variant.inventory_quantity != 0) {
		qty.html('<span class="a-stock">Còn hàng</span>');
	} else if (variant.inventory_quantity == ''){
		if (variant.inventory_policy == "continue"){
			qty.html('<span class="a-stock">Còn hàng</span>');
		} else {
			qty.html('<span class="a-stock a-stock-out">Hết hàng</span>');
		}
	}
}else{
	qty.html('<span class="a-stock">Còn hàng</span>');
};
addToCart.html('thêm vào giỏ hàng').removeAttr('disabled');
btnNow.removeAttr('disabled');
BtnSold.removeClass('btnsold');
qtyBtn.removeClass('d-none');
if(variant.price == 0){
	productPrice.html('Liên hệ');
	comparePrice.hide();
	savePrice.hide();
	comparePriceText.hide();
	savePriceText.hide();
	form.addClass('d-none');
}else{
	form.removeClass('d-none');
	productPrice.html(Bizweb.formatMoney(variant.price, "{{amount_no_decimals_with_comma_separator}}₫"));
										 addToCart.html('Thêm vào giỏ hàng');
					  if ( variant.compare_at_price > variant.price ) {
		comparePrice.html(Bizweb.formatMoney(variant.compare_at_price, "{{amount_no_decimals_with_comma_separator}}₫")).show();
											 savePrice.html(Bizweb.formatMoney(variant.compare_at_price - variant.price, "{{amount_no_decimals_with_comma_separator}}₫") + ' <span>so với giá thị trường</span>').show();
											 comparePriceText.show();
						  savePriceText.show();
	}else {
		comparePrice.hide();
		savePrice.hide();
		comparePriceText.hide();
		savePriceText.hide();
	}
};
		}else{
qty.html('<span class="a-stock a-stock-out">Hết hàng</span>');
addToCart.html('Hết hàng').attr('disabled', 'disabled');
btnNow.attr('disabled', 'disabled');
BtnSold.addClass('btnsold');
qtyBtn.addClass('d-none');
if(variant){
	if(variant.price != 0){
		form.removeClass('d-none');
		productPrice.html(Bizweb.formatMoney(variant.price, "{{amount_no_decimals_with_comma_separator}}₫"));
											 if ( variant.compare_at_price > variant.price ) {
						  comparePrice.html(Bizweb.formatMoney(variant.compare_at_price, "{{amount_no_decimals_with_comma_separator}}₫")).show();
						  savePrice.html(Bizweb.formatMoney(variant.compare_at_price - variant.price, "{{amount_no_decimals_with_comma_separator}}₫") + ' <span>so với giá thị trường</span>').show();
						  comparePriceText.show();
		savePriceText.show();
	} else {
		comparePrice.hide();
		savePrice.hide();
		comparePriceText.hide();
		savePriceText.hide();
	}
}else{
	productPrice.html('Liên hệ');
	comparePrice.hide();
	savePrice.hide();
	comparePriceText.hide();
	savePriceText.hide();
	form.addClass('d-none');};
		}else{
productPrice.html('Liên hệ');
comparePrice.hide();
savePrice.hide();
comparePriceText.hide();
savePriceText.hide();
form.addClass('d-none');
		};
	}
	/*begin variant image*/
	if (variant && variant.image) {
		var originalImage = jQuery(".gallery-thumbs img");
		var stickoriginalImage = jQuery(".evo-product-news img");
		var newImage = variant.image;
		var element = originalImage[0];
		Bizweb.Image.switchImage(newImage, element, function (newImageSizedSrc, newImage, element) {
$('.gallery-thumbs .swiper-slide').each(function(){
	var $this = $(this);
	var imgThis = $this.find('img').attr('data-image');
	if(newImageSizedSrc.split("?")[0] == imgThis.split("?")[0]){
		var pst = $this.attr('data-hash');
		galleryTop.slideTo(pst, 1000,false);
	}
	jQuery(stickoriginalImage).attr('src', newImageSizedSrc);
});
		});
	}
	/*end of variant image*/
	};
	jQuery(function($) {

		new Bizweb.OptionSelectors('product-selectors', {
product: {"id":31456835,"name":"NỆM MÈO SAO KNBB-MS","alias":"nemmeosao-knbbms","vendor":null,"type":null,"content":"<p>- Mua hàng <strong>ONLINE</strong>: Quý khách chỉ cần Click vào nút <u><strong>MUA HÀNG</strong></u></p>\n<p>- Gọi hoặc nhắn tin tới SĐT: <span style=\"font-size:16px;\"><strong><u>0937.809.123</u></strong></span> để được&nbsp;tư vấn&nbsp;mua hàng</p>\n<p><br />\n<span style=\"font-size:16px;\"><span style=\"color:#c0392b;\"><u><strong>Lưu ý:</strong></u><br />\n<strong><em>- Để được bền màu sản phẩm Petshop hàng 100% cotton không nên dùng xà bông(xà phòng), nước giặt có chất tẩy.&nbsp;<br />\n- Nên phơi trong bóng râm, tránh phơi sản phẩm&nbsp;ra nơi có ánh nắng chiếu trực tiếp.</em></strong></span></span></p>","summary":"<p>- Nệm trẻ em Pet Shop thiết kế trẻ trung, sinh động, tạo cảm giác êm ái, thân thiện và hứng thú&nbsp;cho bé mang đi học hay được&nbsp;trãi trong phòng ngủ.</p>\n<p><span style=\"font-size:14px;\"><u><strong>Đặc tính nổi bật</strong>:</u>&nbsp;</span><br />\n- Chất liệu 100% cotton,&nbsp;thấm hút mồ hôi tốt, giữ cảm giác luôn thoáng mát vào những ngày hè nóng nực.<br />\n- Sản phẩm được nhuộm màu theo công nghệ tối tân, rất bền màu và không gây kích ứng da kể cả người có da mẫn cảm như trẻ sơ sinh và trẻ nhỏ.<br />\n- Ruột nệm được chần bằng foarm thoáng mát và lâu xẹp lún.<br />\n- Sản phẩm có đa dạng màu sắc, kích thước phù hợp với sở thích và không gian của nhà minh.<br />\n- Điểm nhấn của sản phẩm là hình ảnh những chú thú cưng xinh xinh yêu&nbsp;yêu.&nbsp;<br />\n- Sản phẩm có thể giặt, vệ sinh dễ dàng sau thời gian sử dụng</p>","template_layout":"product","available":true,"tags":[],"price":950000.0000,"price_min":950000.0000,"price_max":1200000.0000,"price_varies":true,"compare_at_price":0.0000,"compare_at_price_min":0.0000,"compare_at_price_max":0.0000,"compare_at_price_varies":false,"variants":[{"id":91131220,"barcode":null,"sku":null,"title":"XANH LÁ80 / S (70*110cm)","options":["XANH LÁ80","S (70*110cm)"],"option1":"XANH LÁ80","option2":"S (70*110cm)","option3":null,"available":true,"taxable":false,"price":950000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/xanh-la-min.png?v=1687158773390"}},{"id":91131221,"barcode":null,"sku":null,"title":"XANH LÁ / M (80*120cm)","options":["XANH LÁ","M (80*120cm)"],"option1":"XANH LÁ","option2":"M (80*120cm)","option3":null,"available":true,"taxable":false,"price":1050000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/xanh-la-min.png?v=1687158773390"}},{"id":91131222,"barcode":null,"sku":null,"title":"XANH LÁ / L (90*130cm)","options":["XANH LÁ","L (90*130cm)"],"option1":"XANH LÁ","option2":"L (90*130cm)","option3":null,"available":true,"taxable":false,"price":1200000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/xanh-la-min.png?v=1687158773390"}},{"id":91131223,"barcode":null,"sku":null,"title":"TÍM / S (70*110cm)","options":["TÍM","S (70*110cm)"],"option1":"TÍM","option2":"S (70*110cm)","option3":null,"available":true,"taxable":false,"price":950000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/tim-sao-min.png?v=1687159409340"}},{"id":91131224,"barcode":null,"sku":null,"title":"TÍM / M (80*120cm)","options":["TÍM","M (80*120cm)"],"option1":"TÍM","option2":"M (80*120cm)","option3":null,"available":true,"taxable":false,"price":1050000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/tim-sao-min.png?v=1687159409340"}},{"id":91131225,"barcode":null,"sku":null,"title":"TÍM / L (90*130cm)","options":["TÍM","L (90*130cm)"],"option1":"TÍM","option2":"L (90*130cm)","option3":null,"available":true,"taxable":false,"price":1200000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/tim-sao-min.png?v=1687159409340"}},{"id":91131226,"barcode":null,"sku":null,"title":"CAM / S (70*110cm)","options":["CAM","S (70*110cm)"],"option1":"CAM","option2":"S (70*110cm)","option3":null,"available":true,"taxable":false,"price":950000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/cam-min.png?v=1687159437700"}},{"id":91131227,"barcode":null,"sku":null,"title":"CAM / M (80*120cm)","options":["CAM","M (80*120cm)"],"option1":"CAM","option2":"M (80*120cm)","option3":null,"available":true,"taxable":false,"price":1050000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/cam-min.png?v=1687159437700"}},{"id":91131228,"barcode":null,"sku":null,"title":"CAM / L (90*130cm)","options":["CAM","L (90*130cm)"],"option1":"CAM","option2":"L (90*130cm)","option3":null,"available":true,"taxable":false,"price":1200000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/cam-min.png?v=1687159437700"}},{"id":91131229,"barcode":null,"sku":null,"title":"ĐỎ / S (70*110cm)","options":["ĐỎ","S (70*110cm)"],"option1":"ĐỎ","option2":"S (70*110cm)","option3":null,"available":true,"taxable":false,"price":950000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/do-min.png?v=1687159506477"}},{"id":91131230,"barcode":null,"sku":null,"title":"ĐỎ / M (80*120cm)","options":["ĐỎ","M (80*120cm)"],"option1":"ĐỎ","option2":"M (80*120cm)","option3":null,"available":true,"taxable":false,"price":1050000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/do-min.png?v=1687159506477"}},{"id":91131231,"barcode":null,"sku":null,"title":"ĐỎ / L (90*130cm)","options":["ĐỎ","L (90*130cm)"],"option1":"ĐỎ","option2":"L (90*130cm)","option3":null,"available":true,"taxable":false,"price":1200000.0000,"compare_at_price":0.0000,"inventory_management":null,"inventory_policy":"deny","inventory_quantity":0,"weight_unit":"kg","weight":0,"requires_shipping":true,"image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/do-min.png?v=1687159506477"}}],"featured_image":{"src":"https://bizweb.dktcdn.net/100/147/060/products/351184790-754193879785192-2569599633192683134-n.jpg?v=1687158141443"},"images":[{"src":"https://bizweb.dktcdn.net/100/147/060/products/351184790-754193879785192-2569599633192683134-n.jpg?v=1687158141443"},{"src":"https://bizweb.dktcdn.net/100/147/060/products/351457402-1416902029149708-2722971664068531698-n.jpg?v=1687158147763"},{"src":"https://bizweb.dktcdn.net/100/147/060/products/xanh-la-min.png?v=1687158773390"},{"src":"https://bizweb.dktcdn.net/100/147/060/products/tim-sao-min.png?v=1687159409340"},{"src":"https://bizweb.dktcdn.net/100/147/060/products/cam-min.png?v=1687159437700"},{"src":"https://bizweb.dktcdn.net/100/147/060/products/do-min.png?v=1687159506477"}],"options":["Màu sắc","Kích thước"],"created_on":"2023-06-19T13:58:50","modified_on":"2023-07-26T16:05:39","published_on":"2023-06-19T13:58:00"},
onVariantSelected: selectCallback,
enableHistoryState: true
		});



		$('.selector-wrapper').css({
'text-align':'left',
'margin-bottom':'15px'
		});
	});
	$(document).on('click', '.btn-buy-now', function(){
		var _variantID = $('#product-selectors').val();
		var _Qty = parseInt($('.qty-ant #qty').val());;
		if(_variantID == null){
_variantID = $('#one_variant').val();
		}
		jQuery.ajax({
type: "POST",
url: "/cart/add.js",
data: "quantity=" + _Qty + "&VariantId=" + _variantID,
dataType: "json",
success: function(e) {
	window.location = 'cart.html';
},
error: function(e, t) {
	Bizweb.onError(e, t);
}
		});
	});
	jQuery('.swatch :radio').change(function() {
		var optionIndex = jQuery(this).closest('.swatch').attr('data-option-index');
		var optionValue = jQuery(this).val();
		jQuery(this)
.closest('form')
.find('.single-option-selector')
.eq(optionIndex)
.val(optionValue)
.trigger('change');
	});
</script>
<script>$.validate({});</script>
<script>
window.Bizweb||(window.Bizweb={}),Bizweb.mediaDomainName="http://bizweb.dktcdn.net/",Bizweb.each=function(a,b){for(var c=0;c<a.length;c++)b(a[c],c)},Bizweb.getClass=function(a){return Object.prototype.toString.call(a).slice(8,-1)},Bizweb.map=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c},Bizweb.arrayContains=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},Bizweb.distinct=function(a){for(var b=[],c=0;c<a.length;c++)Bizweb.arrayContains(b,a[c])||b.push(a[c]);return b},Bizweb.getUrlParameter=function(a){var b=RegExp("[?&]"+a+"=([^&]*)").exec(window.location.search);return b&&decodeURIComponent(b[1].replace(/\+/g," "))},Bizweb.uniq=function(a){for(var b=[],c=0;c<a.length;c++)Bizweb.arrayIncludes(b,a[c])||b.push(a[c]);return b},Bizweb.arrayIncludes=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},Bizweb.Product=function(){function a(a){if("undefined"!=typeof a)for(property in a)this[property]=a[property]}return a.prototype.optionNames=function(){return"Array"==Bizweb.getClass(this.options)?this.options:[]},a.prototype.optionValues=function(a){if("undefined"==typeof this.variants)return null;var b=Bizweb.map(this.variants,function(b){var c="option"+(a+1);return"undefined"==typeof b[c]?null:b[c]});return null==b[0]?null:Bizweb.distinct(b)},a.prototype.getVariant=function(a){var b=null;return a.length!=this.options.length?null:(Bizweb.each(this.variants,function(c){for(var d=!0,e=0;e<a.length;e++){var f="option"+(e+1);c[f]!=a[e]&&(d=!1)}if(d)return void(b=c)}),b)},a.prototype.getVariantById=function(a){for(var b=0;b<this.variants.length;b++){var c=this.variants[b];if(c.id==a)return c}return null},a.name="Product",a}(),Bizweb.money_format=" VND",Bizweb.formatMoney=function(a,b){function f(a,b,c,d){if("undefined"==typeof b&&(b=2),"undefined"==typeof c&&(c="."),"undefined"==typeof d&&(d=","),"undefined"==typeof a||null==a)return 0;a=a.toFixed(b);var e=a.split("."),f=e[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+c),g=e[1]?d+e[1]:"";return f+g}"string"==typeof a&&(a=a.replace(/\./g,""),a=a.replace(/\,/g,""));var c="",d=/\{\{\s*(\w+)\s*\}\}/,e=b||this.money_format;switch(e.match(d)[1]){case"amount":c=f(a,2);break;case"amount_no_decimals":c=f(a,0);break;case"amount_with_comma_separator":c=f(a,2,".",",");break;case"amount_no_decimals_with_comma_separator":c=f(a,0,".",",")}return e.replace(d,c)},Bizweb.OptionSelectors=function(){function a(a,b){return this.selectorDivClass="selector-wrapper",this.selectorClass="single-option-selector",this.variantIdFieldIdSuffix="-variant-id",this.variantIdField=null,this.selectors=[],this.domIdPrefix=a,this.product=new Bizweb.Product(b.product),"undefined"!=typeof b.onVariantSelected?this.onVariantSelected=b.onVariantSelected:this.onVariantSelected=function(){},this.replaceSelector(a),this.initDropdown(),!0}return a.prototype.replaceSelector=function(a){var b=document.getElementById(a),c=b.parentNode;Bizweb.each(this.buildSelectors(),function(a){c.insertBefore(a,b)}),b.style.display="none",this.variantIdField=b},a.prototype.buildSelectors=function(){for(var a=0;a<this.product.optionNames().length;a++){var b=new Bizweb.SingleOptionSelector(this,a,this.product.optionNames()[a],this.product.optionValues(a));b.element.disabled=!1,this.selectors.push(b)}var c=this.selectorDivClass,d=this.product.optionNames(),e=Bizweb.map(this.selectors,function(a){var b=document.createElement("div");if(b.setAttribute("class",c),d.length>1){var e=document.createElement("label");e.htmlFor=a.element.id,e.innerHTML=a.name,b.appendChild(e)}return b.appendChild(a.element),b});return e},a.prototype.initDropdown=function(){var a={initialLoad:!0},b=this.selectVariantFromDropdown(a);if(!b){var c=this;setTimeout(function(){c.selectVariantFromParams(a)||c.selectors[0].element.onchange(a)})}},a.prototype.selectVariantFromDropdown=function(a){var b=document.getElementById(this.domIdPrefix).querySelector("[selected]");return!!b&&this.selectVariant(b.value,a)},a.prototype.selectVariantFromParams=function(a){var b=Bizweb.getUrlParameter("variantid");return null==b&&(b=Bizweb.getUrlParameter("variantId")),this.selectVariant(b,a)},a.prototype.selectVariant=function(a,b){var c=this.product.getVariantById(a);if(null==c)return!1;for(var d=0;d<this.selectors.length;d++){var e=this.selectors[d].element,f=e.getAttribute("data-option"),g=c[f];null!=g&&this.optionExistInSelect(e,g)&&(e.value=g)}return"undefined"!=typeof jQuery?jQuery(this.selectors[0].element).trigger("change",b):this.selectors[0].element.onchange(b),!0},a.prototype.optionExistInSelect=function(a,b){for(var c=0;c<a.options.length;c++)if(a.options[c].value==b)return!0},a.prototype.updateSelectors=function(a,b){var c=this.selectedValues(),d=this.product.getVariant(c);d?(this.variantIdField.disabled=!1,this.variantIdField.value=d.id):this.variantIdField.disabled=!0,this.onVariantSelected(d,this,b),null!=this.historyState&&this.historyState.onVariantChange(d,this,b)},a.prototype.selectedValues=function(){for(var a=[],b=0;b<this.selectors.length;b++){var c=this.selectors[b].element.value;a.push(c)}return a},a.name="OptionSelectors",a}(),Bizweb.SingleOptionSelector=function(a,b,c,d){this.multiSelector=a,this.values=d,this.index=b,this.name=c,this.element=document.createElement("select");for(var e=0;e<d.length;e++){var f=document.createElement("option");f.value=d[e],f.innerHTML=d[e],this.element.appendChild(f)}return this.element.setAttribute("class",this.multiSelector.selectorClass),this.element.setAttribute("data-option","option"+(b+1)),this.element.id=a.domIdPrefix+"-option-"+b,this.element.onchange=function(c,d){d=d||{},a.updateSelectors(b,d)},!0},Bizweb.Image={preload:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];this.loadImage(this.getSizedImageUrl(d,b))}},loadImage:function(a){(new Image).src=a},switchImage:function(a,b,c){if(a&&b){var d=this.imageSize(b.src),e=this.getSizedImageUrl(a.src,d);c?c(e,a,b):b.src=e}},imageSize:function(a){var b=a.match(/thumb\/(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\//);return null!=b?b[1]:null},getSizedImageUrl:function(a,b){if(null==b)return a;if("master"==b)return this.removeProtocol(a);var c=a.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!=c){var d=Bizweb.mediaDomainName+"thumb/"+b+"/";return this.removeProtocol(a).replace(Bizweb.mediaDomainName,d).split("?")[0]}return null},removeProtocol:function(a){return a.replace(/http(s)?:/,"")}};
$(document).on('click', '.add_to_cart_detail', function(e) {
e.preventDefault();
$('#quickview').modal('hide');
var $this = $(this);
var form = $this.parents('form');
$.ajax({
type: 'POST',
	url: '/cart/add.js',
		async: false,
			data: form.serialize(),
				dataType: 'json',
					error: addToCartFail,
						beforeSend: function() {
						},
							success: addToCartSuccess,
								cache: false
});
});
var GLOBAL = {
	common : {
		init: function(){
			$('.add_to_cart').bind( 'click', addToCart );
		}
	},
	templateIndex : {
		init: function(){
		}
	},
	templateProduct : {
		init: function(){
		}
	},
	templateCart : {
		init: function(){
		}
	}
};
var UTIL = {
	fire : function(func,funcname, args){
		var namespace = GLOBAL;
		funcname = (funcname === undefined) ? 'init' : funcname;
		if (func !== '' && namespace[func] && typeof namespace[func][funcname] == 'function'){
			namespace[func][funcname](args);
		}
	},
	loadEvents : function(){
		var bodyId = document.body.id;
		UTIL.fire('common');
		$.each(document.body.className.split(/\s+/),function(i,classnm){
			UTIL.fire(classnm);
			UTIL.fire(classnm,bodyId);
		});
	}
};
									$(document).ready(UTIL.loadEvents);
		Number.prototype.formatMoney = function(c, d, t){
			var n = this,
				c = isNaN(c = Math.abs(c)) ? 2 : c,
				d = d == undefined ? "." : d,
				t = t == undefined ? "." : t,
				s = n < 0 ? "-" : "",
				i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + "",
				j = (j = i.length) > 3 ? j % 3 : 0;
			return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
		};
		function addToCart(e){
			if (typeof e !== 'undefined') e.preventDefault();
			var $this = $(this);
			var form = $this.parents('form');
			$.ajax({
				type: 'POST',
				url: '/cart/add.js',
				async: false,
				data: form.serialize(),
				dataType: 'json',
				error: addToCartFail,
				beforeSend: function() {
				},
				success: addToCartSuccess,
				cache: false
			});
		};
		function addToCartSuccess (jqXHR, textStatus, errorThrown){
			$.ajax({
				type: 'GET',
				url: '/cart.js',
				async: false,
				cache: false,
				dataType: 'json',
				success: function (cart){
					awe_hidePopup('.loading');
					Bizweb.updateCartFromForm(cart, '.top-cart-content .mini-products-list');
					Bizweb.updateCartPopupForm(cart, '#cart-sidebars .cart_body');
					Bizweb.updateCartPageForm(cart, '.cart_desktop_page .page_cart');
				}
			});
			var url_product = jqXHR['url'];
			var class_id = jqXHR['product_id'];
			var name = jqXHR['name'];
			var textDisplay = ('<i style="margin-right:5px; color:red; font-size:13px;" class="fa fa-check" aria-hidden="true"></i>Sản phẩm vừa thêm vào giỏ hàng');
			var id = jqXHR['variant_id'];
			if( jqXHR['image'] != null){
				var src = Bizweb.resizeImage(jqXHR['image'], 'medium');
			}else{
				var src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
			}
			var va_title = jqXHR['variant_title'];
			if (va_title == 'Default Title') {
				va_title = "";
			}else {
				va_title = jqXHR['variant_title'];
			}
			var dataList = $(".item-name a").map(function() {
				var plus = $(this).text();
				return plus;
			}).get();
			var nameid = dataList,
				found = $.inArray(name, nameid);
			var textfind = found;
			$(".cart_sidebar").addClass('active');
			$(".backdrop__body-backdrop___1rvky").addClass('active');
			$('.cart-footer').show();
			$('.cart_sidebar .cart_btn-close').click(function() {
				$(".cart_sidebar").removeClass('active');
				$(".backdrop__body-backdrop___1rvky").removeClass('active');
			});
			$('.backdrop__body-backdrop___1rvky').click(function() {
				$(".cart_sidebar").removeClass('active');
				$(".backdrop__body-backdrop___1rvky").removeClass('active');
			});
		};
		function addToCartFail(jqXHR, textStatus, errorThrown){
			var response = $.parseJSON(jqXHR.responseText);
			var $info = '<div class="error">'+ response.description +'</div>';
		};
		$(document).on('click', ".remove-item-cart", function () {
			var variantId = $(this).attr('data-id');
			removeItemCart(variantId);
		});
		$(document).on('click', ".items-count", function () {
			$(this).parent().children('.items-count').prop('disabled', true);
			var thisBtn = $(this);
			var variantId = $(this).parent().find('.variantID').val();
			var qty =  $(this).parent().children('.number-sidebar').val();
			updateQuantity(qty, variantId);
		});
		$(document).on('change', ".number-sidebar", function () {
			var variantId = $(this).parent().children('.variantID').val();
			var qty =  $(this).val();
			updateQuantity(qty, variantId);
		});
		function updateQuantity (qty, variantId){
			var variantIdUpdate = variantId;
			$.ajax({
				type: "POST",
				url: "/cart/change.js",
				data: {"quantity": qty, "variantId": variantId},
				dataType: "json",
				success: function (cart, variantId) {
					Bizweb.onCartUpdateClick(cart, variantIdUpdate);
				},
				error: function (qty, variantId) {
					Bizweb.onError(qty, variantId)
				}
			})
		};
		function removeItemCart (variantId){
			var variantIdRemove = variantId;
			$.ajax({
				type: "POST",
				url: "/cart/change.js",
				data: {"quantity": 0, "variantId": variantId},
				dataType: "json",
				success: function (cart, variantId) {
					Bizweb.onCartRemoveClick(cart, variantIdRemove);
					$('.productid-'+variantIdRemove).remove();
					if($('.tbody-popup>div').length == '0' ){
						$('#popup-cart').modal('hide');
					}
					if($('.list-item-cart>li').length == '0' ){
						$('.mini-products-list').html('<div class="no-item"><span class="empty-icon"><i class="ico ico-cart"></i></span><p>Không có sản phẩm nào trong giỏ hàng.</p></div>');
					}
					if($('.cart_page_mobile>div').length == '0' ){
						$('.cart_page_mobile').remove();
						$('.header-cart-price').remove();
						$('.header-cart').remove();
						jQuery('<div class="cart-empty">'
							   + '<span class="empty-icon"><i class="ico ico-cart"></i></span>'
							   + '<div class="btn-cart-empty">'
							   + '<a class="btn btn-default" href="/" title="Tiếp tục mua sắm">Tiếp tục mua sắm</a>'
							   + '</div>'
							   + '</div>').appendTo('.header-cart-content');
					}
					if($('.cart-tbody>div').length == '0' ){
						$('.bg-cart-page').remove();
						$('.bg-cart-page-mobile').remove();
						jQuery('<div class="bg-cart-page" style="min-height: auto"><p>Không có sản phẩm nào trong giỏ hàng. Quay lại <a href="index.html">cửa hàng</a> để tiếp tục mua sắm.</p></div>').appendTo('.cart');
					}
					if($('.cart-tbody>div').length == '0' ){
						$('.bg-cart-page').remove();
						$('.bg-cart-page-mobile').remove();
						$('.cart_des_page').remove();
						jQuery('<div class="cart-empty">'
							   + '<span class="empty-icon"><i class="ico ico-cart"></i></span>'
							   + '<div class="btn-cart-empty">'
							   + '<a class="btn btn-default" href="/" title="Tiếp tục mua hàng">Tiếp tục mua hàng</a>'
							   + '</div>'
							   + '</div>').appendTo('.cart_desktop_page');
					}
					if($('.cart_body>div').length == '0' ){
						$('.cart-footer').hide();
						jQuery('<div class="cart-empty">'
							   + '<span class="empty-icon"><i class="ico ico-cart"></i></span>'
							   + '<div class="btn-cart-empty">'
							   + '<a class="btn btn-default" href="/" title="Tiếp tục mua sắm">Tiếp tục mua sắm</a>'
							   + '</div>'
							   + '</div>').appendTo('.cart_body');
					}else{
						$('.cart-footer').show();
					}
				},
				error: function (variantId, r) {
					Bizweb.onError(variantId, r)
				}
			})
		};
		Bizweb.updateCartFromForm = function(cart, cart_summary_id, cart_count_id) {
			if ((typeof cart_summary_id) === 'string') {
				var cart_summary = jQuery(cart_summary_id);
				if (cart_summary.length) {
					cart_summary.empty();
					jQuery.each(cart, function(key, value) {
						if (key === 'items') {
							var table = jQuery(cart_summary_id);
							if (value.length) {
								jQuery('<ul class="list-item-cart"></ul>').appendTo(table);
								jQuery.each(value, function(i, item) {
									var src = Bizweb.resizeImage(item.image, 'medium');
									if(src == null){
										src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
									}
									var buttonQty = "";
									if(item.quantity == '1'){
										buttonQty = 'disabled';
									}else{
										buttonQty = '';
									}
									jQuery('<li class="item productid-' + item.variant_id +'"><a class="product-image" href="' + item.url + '" title="' + item.name + '">'
										   + '<img alt="'+  item.name  + '" src="' + src +  '"width="'+ '80' +'"\></a>'
										   + '<div class="detail-item"><div class="product-details"> <a href="javascript:;" data-id="'+ item.variant_id +'" title="Xóa" class="remove-item-cart">×</a>'
										   + '<p class="product-name"> <a href="' + item.url + '" title="' + item.name + '">' + item.name + '</a></p></div>'
										   + '<div class="product-details-bottom"><span class="price pricechange">' + Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span>'
																																		 + '<div class="quantity-select"><input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'"><button onClick="var result = document.getElementById(\'qty'+ item.variant_id +'\'); var qty'+ item.variant_id +' = result.value; if( !isNaN( qty'+ item.variant_id +' ) &amp;&amp; qty'+ item.variant_id +' &gt; 1 ) result.value--;return false;" class="reduced items-count btn-minus" ' + buttonQty + ' type="button">–</button><input type="text" disabled maxlength="3" min="1" onchange="if(this.value == 0)this.value=1;" class="input-text number-sidebar qty'+ item.variant_id +'" id="qty'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'"><button onClick="var result = document.getElementById(\'qty'+ item.variant_id +'\'); var qty'+ item.variant_id +' = result.value; if( !isNaN( qty'+ item.variant_id +' )) result.value++;return false;" class="increase items-count btn-plus" type="button">+</button></div></div></li>').appendTo(table.children('.list-item-cart'));
										   });
									jQuery('<div><div class="top-subtotal">Tổng cộng: <span class="price">' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span></div></div>').appendTo(table);
																																 jQuery('<div><div class="actions clearfix"><a href="/checkout" class="btn btn-gray btn-checkout" title="Thanh toán"><span>Thanh toán</span></a><a href="/cart" class="view-cart btn btn-white margin-left-5" title="Giỏ hàng"><span>Giỏ hàng</span></a></div></div>').appendTo(table);
										   }
										   else {
										   jQuery('<div class="no-item"><span class="empty-icon"><i class="ico ico-cart"></i></span><p>Không có sản phẩm nào trong giỏ hàng.</p></div>').appendTo(table);
								}
											}
											});
							}
						}
						updateCartDesc(cart);
						var numInput = document.querySelector('#cart-sidebar input.input-text');
						if (numInput != null){
							numInput.addEventListener('input', function(){
								var num = this.value.match(/^\d+$/);
								if (num == 0) {
									this.value = 1;
								}
								if (num === null) {
									this.value = "";
								}
							}, false)
						}
					};
								Bizweb.updateCartPageForm = function(cart, cart_summary_id, cart_count_id) {
						if ((typeof cart_summary_id) === 'string') {
							var cart_summary = jQuery(cart_summary_id);
							if (cart_summary.length) {
								cart_summary.empty();
								jQuery.each(cart, function(key, value) {
									if (key === 'items') {
										var table = jQuery(cart_summary_id);
										if (value.length) {
											var pageCart = '<div class="cart page_cart cart_des_page hidden-xs-down row">'
											+ '<div class="col-lg-12 cart-col-1">'
											+ '<div class="cart-tbody">'
											+ '</div>'
											+ '</div>'
											+ '</div>';
											var pageCartCheckout = '<div class="col-lg-12 cart-col-2 cart-collaterals cart_submit">'
											+ '<div id="right-affix">'
											+ '<div class="row">'
											+ '<div class="col-lg-6"><a class="btn-proceed-checkout btn-checkouts" title="Tiếp tục mua hàng" href="collections/all">Tiếp tục mua hàng</a></div>'
											+ '<div class="col-lg-6">'
											+ '<div class="each-row">'
											+ '<div class="box-style fee">'
											+ '<p class="list-info-price">'
											+ '<span>Tạm tính: </span>'
											+ '<strong class="totals_price price _text-right text_color_right1">65756756756</strong></p></div>'
											+ '<div class="box-style fee d-none">'
											+ '<p class="list-info-price">'
											+ '<span>Giảm giá: </span>'
											+ '<strong class="discounted price _text-right text_color_right1" id="price_sale" data-price="0"></strong></p></div>'
											+ '<div class="box-style fee">'
											+ '<div class="total2 clearfix">'
											+ '<span class="text-label">Thành tiền: </span>'
											+ '<div class="amount">'
											+ '<p><strong class="totals_price">' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '</strong></p>'
																									  + '</div></div></div>'
																									  + '<button class="button btn btn-large btn-block btn-danger btn-checkout evo-button" title="Thanh toán ngay" type="button" onclick="window.location.href=\'/checkout\'">Thanh toán ngay</button>'
																									  + '</div></div></div></div></div>';
																									  jQuery(pageCart).appendTo(table);
											jQuery.each(value, function(i, item) {
												var buttonQty = "";
												var cbrand = "";
												if(item.quantity == '1'){
													buttonQty = 'disabled';
												}else{
													buttonQty = '';
												}
												if(item.vendor == null){
													cbrand = 'Đang cập nhật';
												}else if(item.vendor == ''){
													cbrand = 'Đang cập nhật';
												}else{
													cbrand = item.vendor;
												}
												var link_img1 = Bizweb.resizeImage(item.image, 'medium');
												if(link_img1=="null" || link_img1 =='' || link_img1 ==null){
													link_img1 = '~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif';
												}
												if(item.price == 0){
													var price = "Tặng kèm";
													var hidden = "hidden";
												}else{
													var hidden = "";
													var price = Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫");
																				   }
																				   var item_price = item.price * item.quantity;
																				   var pageCartItem = '<div class="row shopping-cart-item productid-' + item.variant_id +'">'
																				   + '<div class="col-lg-3 img-thumnail-custom">'
																				   + '<p class="image">'
																				   + '<a href="' + item.url + '" title="' + item.name + '" target="_blank">'
																				   + '<img class="img-responsive" src="' + link_img1 +  '" alt="' + item.name + '" />'
																				   + '</a>'
																				   + '</p>'
																				   + '</div>'
																				   + '<div class="col-right col-lg-9">'
																				   + '<div class="box-info-product">'
																				   + '<p class="name">'
																				   + '<a href="' + item.url + '" title="' + item.name + '" target="_blank">' + item.name + '</a>'
																				   + '</p>'
																				   + '<p class="c-brands">Thương hiệu: '+ cbrand + '</p>'
																				   + '<p class="seller-by d-none">' + item.variant_title + '</p>'
																				   + '<p class="action">'
																				   + '<a href="javascript:;" class="btn btn-link btn-item-delete remove-item-cart" data-id="'+ item.variant_id +'" title="Xóa">Xóa</a>'
																				   + '</p>'
																				   + '</div>'
																				   + '<div class="box-price">'
																				   + '<p class="price pricechange">' + price + '</p>'
																				   + '</div>'
																				   + '<div class="quantity-block">'
																				   + '<div class="bootstrap-touchspin">'
																				   + '<div class="input-group-btn">'
																				   + '<input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'">'
																				   + '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' )) result.value++;return false;" class="increase_pop items-count btn-plus btn btn-default bootstrap-touchspin-up" type="button">+</button>'
																				   + '<input type="text" onchange="if(this.value == 0)this.value=1;" maxlength="12" min="1" disabled class="form-control quantity-r2 quantity js-quantity-product input-text number-sidebar input_pop input_pop qtyItem'+ item.variant_id +'" id="qtyItem'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'">'
																				   + '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' ) &amp;&amp; qtyItem'+ item.variant_id +' &gt; 1 ) result.value--;return false;" ' + buttonQty + ' class="reduced_pop items-count btn-minus btn btn-default bootstrap-touchspin-down" type="button">–</button>'
																				   + '</div>'
																				   + '</div>'
																				   + '</div>'
																				   + '</div>'
																				   + '</div>';
																				   jQuery(pageCartItem).appendTo(table.find('.cart-tbody'));
													if(item.variant_title == 'Default Title'){
														$('.seller-by').hide();
													}
												});
												jQuery(pageCartCheckout).appendTo(table.children('.cart'));
											}else {
														jQuery('<p class="hidden-xs-down">Không có sản phẩm nào trong giỏ hàng. Quay lại <a href="/" style="color:;">cửa hàng</a> để tiếp tục mua sắm.</p>').appendTo(table);
														jQuery('.cart_desktop_page').css('min-height', 'auto');
										}
									}
								});
							}
						}
						updateCartDesc(cart);
						jQuery('#wait').hide();
					};
					Bizweb.updateCartPopupForm = function(cart, cart_summary_id, cart_count_id) {
						if ((typeof cart_summary_id) === 'string') {
							var cart_summary = jQuery(cart_summary_id);
							if (cart_summary.length) {
								cart_summary.empty();
								jQuery.each(cart, function(key, value) {
									if (key === 'items') {
										var table = jQuery(cart_summary_id);
										if (value.length) {
											jQuery.each(value, function(i, item) {
												var src = Bizweb.resizeImage(item.image, 'medium');
												if(src == null){
													src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
												}
												var buttonQty = "";
												if(item.quantity == '1'){
													buttonQty = 'disabled';
												}else{
													buttonQty = '';
												}
												var pageCartItem ='<div class="clearfix cart_product productid-' + item.variant_id +'">'
												+ '<a class="cart_image" href="' + item.url + '" title="' + item.name + '">'
												+ '<img src="' + src +  '" alt="' + item.name + '" >'
												+ '</a>'
												+ '<div class="cart_info">'
												+ '<div class="cart_name">'
												+ '<a href="' + item.url + '" title="' + item.name + '">' + item.name + '</a>'
												+ '</div>'
												+ '<div class="row-cart-left">'
												+ '<div class="cart_item_name">'
												+ '<label class="cart_size variant-title-popup d-none">' + item.variant_title + '</label>'
												+ '<div>'
												+ '<label class="cart_quantity">Số lượng</label>'
												+ '<div class="cart_select">'
												+ '<div class="input-group-btn">'
												+ '<input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'">'
												+ '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' ) &amp;&amp; qtyItem'+ item.variant_id +' &gt; 1 ) result.value--;return false;" ' + buttonQty + ' class="reduced items-count btn-minus btn btn-default" type="button">–</button>'
												+ '<input type="text" maxlength="3" min="0" class="input-text number-sidebar qtyItem'+ item.variant_id +'" id="qtyItem'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'">'
												+ '<button onClick="var result = document.getElementById(\'qtyItem'+ item.variant_id +'\'); var qtyItem'+ item.variant_id +' = result.value; if( !isNaN( qtyItem'+ item.variant_id +' )) result.value++;return false;" class="increase items-count btn-plus btn btn-default" type="button">+</button></div>'
												+ '</div>'
												+ '</div>'
												+ '</div>'
												+ '<div class="text-right cart_prices">'
												+ '<div class="cart__price">'
												+ '<span class="cart__sale-price">' + Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span>'
																										 + '</div>'
																										 + '<a class="cart__btn-remove remove-item-cart" href="javascript:void(0)" data-id="'+ item.variant_id +'" title="Bỏ sản phẩm">Bỏ sản phẩm</a>'
																										 + '</div>'
																										 + '</div>'
																										 + '</div>'
																										 + '</div>';
																										 jQuery(pageCartItem).prependTo(table);
												if(item.variant_title == 'Default Title'){
													$('.variant-title-popup').hide();
												}
												$('.link_product').text();
											});
										}
									}
								});
							}
						}
						jQuery('.total-price').html(Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫"));
																	   updateCartDesc(cart);
													};
													Bizweb.updateCartPageFormMobile = function(cart, cart_summary_id, cart_count_id) {
							if ((typeof cart_summary_id) === 'string') {
								var cart_summary = jQuery(cart_summary_id);
								if (cart_summary.length) {
									cart_summary.empty();
									jQuery.each(cart, function(key, value) {
										if (key === 'items') {
											var table = jQuery(cart_summary_id);
											if (value.length) {
												jQuery('<div class="cart_page_mobile content-product-list"></div>').appendTo(table);
												jQuery.each(value, function(i, item) {
													if( item.image != null){
														var src = Bizweb.resizeImage(item.image, 'small');
													}else{
														var src = "~/Style/bizweb.dktcdn.net/thumb/large/assets/themes_support/noimage.gif";
													}
													jQuery('<div class="item-product item productid-' + item.variant_id +' "><div class="item-product-cart-mobile margin-right-10"><a class="product-images1" href="' + item.url + '"  title="' + item.name + '"><img src="' + src +  '" alt="' + item.name + '"></a></div>'
														   + '<div class="title-product-cart-mobile"><h3><a href="' + item.url + '" title="' + item.name + '">' + item.name + '</a></h3><p>Giá: <span class="pricechange">' + Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫") + '</span></p></div>'
								   + '<div class="select-item-qty-mobile"><div class="txt_center">'
								   + '<input class="variantID" type="hidden" name="variantId" value="'+ item.variant_id +'"><button onClick="var result = document.getElementById(\'qtyMobile'+ item.variant_id +'\'); var qtyMobile'+ item.variant_id +' = result.value; if( !isNaN( qtyMobile'+ item.variant_id +' ) &amp;&amp; qtyMobile'+ item.variant_id +' &gt; 1 ) result.value--;return false;" class="reduced items-count btn-minus" type="button">–</button><input type="text" maxlength="12" min="0" class="input-text number-sidebar qtyMobile'+ item.variant_id +'" id="qtyMobile'+ item.variant_id +'" name="Lines" id="updates_'+ item.variant_id +'" size="4" value="'+ item.quantity +'"><button onClick="var result = document.getElementById(\'qtyMobile'+ item.variant_id +'\'); var qtyMobile'+ item.variant_id +' = result.value; if( !isNaN( qtyMobile'+ item.variant_id +' )) result.value++;return false;" class="increase items-count btn-plus" type="button">+</button></div>'
								   + '<a class="button remove-item remove-item-cart" href="javascript:;" data-id="'+ item.variant_id +'" title="Xóa">Xoá</a></div>').appendTo(table.children('.content-product-list'));
														   });
													jQuery('<div class="header-cart-price" style=""><div class="title-cart clearfix"><h3 class="text-xs-left">Tổng tiền</h3><a class="text-xs-right totals_price_mobile" title="' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '">' + Bizweb.formatMoney(cart.total_price, "{{amount_no_decimals_with_comma_separator}}₫") + '</a></div>'
							   + '<div class="checkout"><button class="btn-proceed-checkout-mobile" title="Thanh toán ngay" type="button" onclick="window.location.href=\'/checkout\'">'
							   + '<span>Thanh toán ngay</span></button></div>'
							   + '<button class="btn btn-proceed-continues-mobile" title="Tiếp tục mua hàng" type="button" onclick="window.location.href=\'/collections/all\'">Tiếp tục mua hàng</button>'
							   +'</div>').appendTo(table);
														   }
														   }
														   });
												}
															}
															updateCartDesc(cart);
											};
											function updateCartDesc(data){
												var $cartPrice = Bizweb.formatMoney(data.total_price, "{{amount_no_decimals_with_comma_separator}}₫"),
																					$cartMobile = $('#header .cart-mobile .quantity-product'),
													$cartDesktop = $('.count_item_pr'),
													$cartDesktopList = $('.cart-counter-list'),
													$cartPopup = $('.cart-popup-count');
												switch(data.item_count){
													case 0:
														$cartMobile.text('0');
														$cartDesktop.text('0');
														$cartDesktopList.text('0');
														$cartPopup.text('0');
														$cartDesktop.removeClass('hascart');
														break;
													case 1:
														$cartMobile.text('1');
														$cartDesktop.text('1');
														$cartDesktopList.text('1');
														$cartPopup.text('1');
														$cartDesktop.addClass('hascart');
														break;
													default:
														$cartMobile.text(data.item_count);
														$cartDesktop.text(data.item_count);
														$cartDesktopList.text(data.item_count);
														$cartPopup.text(data.item_count);
														$cartDesktop.addClass('hascart');
														break;
												}
												$('.top-cart-content .top-subtotal .price, aside.sidebar .block-cart .subtotal .price, .popup-total .total-price').html($cartPrice);
												$('.popup-total .total-price, .cart__totle .total-price').html($cartPrice);
												$('.cart-collaterals .totals_price').html($cartPrice);
												$('.header-cart-price .totals_price_mobile').html($cartPrice);
												$('.cartCount, .cart-products-count').html(data.item_count);
											};
											Bizweb.onCartUpdate = function(cart) {
												Bizweb.updateCartFromForm(cart, '.mini-products-list');
												Bizweb.updateCartPopupForm(cart, '#cart-sidebars .cart_body');

											};
											Bizweb.onCartUpdateClick = function(cart, variantId) {
												jQuery.each(cart, function(key, value) {
													if (key === 'items') {
														jQuery.each(value, function(i, item) {
															if(item.variant_id == variantId){
																$('.productid-'+variantId).find('.pricechange').html(Bizweb.formatMoney(item.price, "{{amount_no_decimals_with_comma_separator}}₫"));
																																		$('.productid-'+variantId).find('.cart-price span.price').html(Bizweb.formatMoney(item.price * item.quantity, "{{amount_no_decimals_with_comma_separator}}₫"));
														$('.productid-'+variantId).find('.items-count').prop("disabled", false);
														$('.productid-'+variantId +' .number-sidebar').val(item.quantity);
																													 if(item.quantity == '1'){
																	$('.productid-'+variantId).find('.items-count.btn-minus').prop("disabled", true);
																}
															}
														});
													}
												});
												updateCartDesc(cart);
											};
											Bizweb.onCartRemoveClick = function(cart, variantId) {
												jQuery.each(cart, function(key, value) {
													if (key === 'items') {
														jQuery.each(value, function(i, item) {
															if(item.variant_id == variantId){
																$('.productid-'+variantId).remove();
															}
														});
													}
												});
												updateCartDesc(cart);
											};
											$(window).ready(function(){
												$.ajax({
													type: 'GET',
													url: '/cart.js',
													async: false,
													cache: false,
													dataType: 'json',
													success: function (cart){
														Bizweb.updateCartFromForm(cart, '.mini-products-list');
														Bizweb.updateCartPopupForm(cart, '#cart-sidebars .cart_body');

													}
												});
											});
</script>
